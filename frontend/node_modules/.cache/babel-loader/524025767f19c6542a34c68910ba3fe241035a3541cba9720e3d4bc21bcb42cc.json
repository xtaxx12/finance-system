{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Chart as ChartJS,ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement,Title,LineElement,PointElement}from'chart.js';import{Pie,Bar,Line}from'react-chartjs-2';import{useTheme}from'../contexts/ThemeContext';import{useAuth}from'../contexts/AuthContext';import{useBalance}from'../contexts/BalanceContext';import api from'../services/api';import toast from'react-hot-toast';import{TrendingUp,TrendingDown,Wallet,CreditCard,DollarSign,AlertCircle,User,LogOut}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";ChartJS.register(ArcElement,Tooltip,Legend,CategoryScale,LinearScale,BarElement,Title,LineElement,PointElement);const Dashboard=()=>{const[dashboardData,setDashboardData]=useState(null);const[loading,setLoading]=useState(true);const{colors,isDarkMode}=useTheme();const{user}=useAuth();const{balance,totalDebt,availableBalance}=useBalance();useEffect(()=>{fetchDashboardData();},[]);const fetchDashboardData=async()=>{try{const response=await api.get('/transactions/gastos/dashboard/');setDashboardData(response.data);}catch(error){toast.error('Error al cargar datos del dashboard');}finally{setLoading(false);}};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',alignItems:'center',height:'60vh',flexDirection:'column',gap:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'60px',height:'60px',border:\"4px solid \".concat(colors.border),borderTop:\"4px solid \".concat(colors.primary),borderRadius:'50%',animation:'spin 1s linear infinite'}}),/*#__PURE__*/_jsx(\"p\",{style:{color:colors.textSecondary,fontSize:'1.125rem'},children:\"Cargando dashboard...\"})]})});}if(!dashboardData){return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modern-card text-center\",children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'4rem',marginBottom:'1rem'},children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{style:{color:colors.textPrimary,marginBottom:'0.5rem'},children:\"Error al cargar datos\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:colors.textSecondary},children:\"No se pudieron cargar los datos del dashboard\"})]})});}// Configuración de gráficos con tema\nconst pieData={labels:dashboardData.gastos_por_categoria.map(item=>item.categoria),datasets:[{data:dashboardData.gastos_por_categoria.map(item=>item.total),backgroundColor:dashboardData.gastos_por_categoria.map(item=>item.color),borderWidth:3,borderColor:colors.surface,hoverBorderWidth:4,hoverBorderColor:colors.primary,hoverOffset:8}]};const barData={labels:dashboardData.evolucion_mensual.map(item=>\"\".concat(item.mes.substring(0,3),\" \").concat(item.año)),datasets:[{label:'Ingresos',data:dashboardData.evolucion_mensual.map(item=>item.ingresos),backgroundColor:colors.income,borderColor:colors.income,borderWidth:2,borderRadius:8,borderSkipped:false},{label:'Gastos',data:dashboardData.evolucion_mensual.map(item=>item.gastos),backgroundColor:colors.expense,borderColor:colors.expense,borderWidth:2,borderRadius:8,borderSkipped:false}]};// Gráfico de Líneas para Flujo de Caja\nconst lineData={labels:dashboardData.evolucion_mensual.map(item=>\"\".concat(item.mes.substring(0,3),\" \").concat(item.año)),datasets:[{label:'Ingresos',data:dashboardData.evolucion_mensual.map(item=>item.ingresos),borderColor:'#10B981',backgroundColor:'rgba(16, 185, 129, 0.1)',borderWidth:3,fill:true,tension:0.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:'#10B981',pointBorderColor:'#fff',pointBorderWidth:2},{label:'Gastos',data:dashboardData.evolucion_mensual.map(item=>item.gastos),borderColor:'#EF4444',backgroundColor:'rgba(239, 68, 68, 0.1)',borderWidth:3,fill:true,tension:0.4,pointRadius:4,pointHoverRadius:6,pointBackgroundColor:'#EF4444',pointBorderColor:'#fff',pointBorderWidth:2}]};const lineOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top',labels:{usePointStyle:true,pointStyle:'circle',padding:20,font:{size:13,family:'Inter',weight:'500'},color:'#1E293B'}},tooltip:{backgroundColor:'white',titleColor:'#1E293B',bodyColor:'#64748B',borderColor:'#E2E8F0',borderWidth:1,cornerRadius:8,padding:12,callbacks:{label:function(context){return\"\".concat(context.dataset.label,\": \").concat(formatCurrency(context.parsed.y));}}}},scales:{y:{beginAtZero:true,ticks:{callback:function(value){return formatCurrency(value);},color:'#64748B',font:{size:12,family:'Inter'}},grid:{color:'#F1F5F9',drawBorder:false}},x:{ticks:{color:'#64748B',font:{size:12,family:'Inter'}},grid:{display:false}}},interaction:{intersect:false,mode:'index'}};const pieOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{padding:20,usePointStyle:true,pointStyle:'circle',font:{size:13,family:'Inter',weight:'500'},color:colors.textPrimary}},tooltip:{backgroundColor:colors.surface,titleColor:colors.textPrimary,bodyColor:colors.textSecondary,borderColor:colors.border,borderWidth:1,cornerRadius:12,padding:12,callbacks:{label:function(context){const label=context.label||'';const value=formatCurrency(context.parsed);const total=context.dataset.data.reduce((a,b)=>a+b,0);const percentage=(context.parsed/total*100).toFixed(1);return\"\".concat(label,\": \").concat(value,\" (\").concat(percentage,\"%)\");}}}}};const barOptions={responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'top',labels:{usePointStyle:true,pointStyle:'circle',padding:20,font:{size:13,family:'Inter',weight:'500'},color:colors.textPrimary}},tooltip:{backgroundColor:colors.surface,titleColor:colors.textPrimary,bodyColor:colors.textSecondary,borderColor:colors.border,borderWidth:1,cornerRadius:12,padding:12,callbacks:{label:function(context){return\"\".concat(context.dataset.label,\": \").concat(formatCurrency(context.parsed.y));}}}},scales:{y:{beginAtZero:true,ticks:{callback:function(value){return formatCurrency(value);},color:colors.textSecondary,font:{size:12,family:'Inter'}},grid:{color:colors.border,drawBorder:false}},x:{ticks:{color:colors.textSecondary,font:{size:12,family:'Inter'}},grid:{display:false}}},interaction:{intersect:false,mode:'index'}};const formatCurrency=amount=>{return new Intl.NumberFormat('es-MX',{style:'currency',currency:'MXN'}).format(amount);};return/*#__PURE__*/_jsxs(\"div\",{style:{minHeight:'100vh',background:'#F8FAFC',paddingBottom:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{background:'white',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',padding:'1rem 2rem',marginBottom:'2rem',position:'sticky',top:0,zIndex:100},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1400px',margin:'0 auto',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{style:{fontSize:'1.5rem',fontWeight:'600',color:'#1E293B',margin:0},children:\"Dashboard Financiero\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'center',gap:'1rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',background:'linear-gradient(135deg, #2563EB 0%, #1E40AF 100%)',display:'flex',alignItems:'center',justifyContent:'center',color:'white',fontWeight:'600',fontSize:'1rem',cursor:'pointer',boxShadow:'0 2px 8px rgba(37, 99, 235, 0.3)'},children:/*#__PURE__*/_jsx(User,{size:20})})})]})}),/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'1400px',margin:'0 auto',padding:'0 2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'2rem'},children:/*#__PURE__*/_jsx(\"p\",{style:{color:'#64748B',fontSize:'0.95rem',margin:0},children:\"Resumen de tu situaci\\xF3n financiera actual\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(250px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'1.5rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',transition:'transform 0.2s, box-shadow 0.2s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 1px 3px 0 rgba(0, 0, 0, 0.1)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',borderRadius:'50%',background:'#EFF6FF',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(TrendingUp,{size:24,color:\"#2563EB\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748B',marginBottom:'0.5rem'},children:\"Ingresos del Mes\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.875rem',fontWeight:'700',color:'#1E293B',marginBottom:'0.5rem'},children:formatCurrency(dashboardData.total_ingresos)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#10B981',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(TrendingUp,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[\"+\",(dashboardData.total_ingresos/Math.max(dashboardData.total_gastos,1)*100).toFixed(1),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'1.5rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',transition:'transform 0.2s, box-shadow 0.2s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 1px 3px 0 rgba(0, 0, 0, 0.1)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',borderRadius:'50%',background:'#FEF2F2',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(TrendingDown,{size:24,color:\"#EF4444\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748B',marginBottom:'0.5rem'},children:\"Gastos del Mes\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.875rem',fontWeight:'700',color:'#1E293B',marginBottom:'0.5rem'},children:formatCurrency(dashboardData.total_gastos)}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.875rem',color:'#EF4444',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(TrendingDown,{size:16}),/*#__PURE__*/_jsxs(\"span\",{children:[(dashboardData.total_gastos/Math.max(dashboardData.total_ingresos,1)*100).toFixed(1),\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'1.5rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',transition:'transform 0.2s, box-shadow 0.2s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 1px 3px 0 rgba(0, 0, 0, 0.1)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',borderRadius:'50%',background:dashboardData.balance>=0?'#EFF6FF':'#FEF2F2',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(Wallet,{size:24,color:dashboardData.balance>=0?'#2563EB':'#EF4444'})})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748B',marginBottom:'0.5rem'},children:\"Balance Actual\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.875rem',fontWeight:'700',color:'#1E293B',marginBottom:'0.5rem'},children:formatCurrency(dashboardData.balance)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:dashboardData.balance>=0?'#10B981':'#EF4444',fontWeight:'500'},children:dashboardData.balance>=0?'Positivo':'Negativo'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'1.5rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',transition:'transform 0.2s, box-shadow 0.2s',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.transform='translateY(-4px)';e.currentTarget.style.boxShadow='0 10px 20px rgba(0, 0, 0, 0.1)';},onMouseLeave:e=>{e.currentTarget.style.transform='translateY(0)';e.currentTarget.style.boxShadow='0 1px 3px 0 rgba(0, 0, 0, 0.1)';},children:[/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start',marginBottom:'1rem'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:'48px',height:'48px',borderRadius:'50%',background:'#FEF3C7',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsx(CreditCard,{size:24,color:\"#F59E0B\"})})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#64748B',marginBottom:'0.5rem'},children:\"Deudas Pendientes\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.875rem',fontWeight:'700',color:'#1E293B',marginBottom:'0.5rem'},children:formatCurrency(totalDebt)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:totalDebt>0?'#F59E0B':'#10B981',fontWeight:'500'},children:totalDebt>0?'Pendiente':'Sin deudas'})]})]}),totalDebt>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(CreditCard,{size:24,color:\"#2563EB\"}),\"Resumen de Pr\\xE9stamos\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#64748B',margin:0},children:\"Estado actual de tus deudas y compromisos financieros\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1.5rem',marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',background:'white',borderRadius:'8px',border:'1px solid #E2E8F0',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',background:'#FEF3C7',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 0.75rem'},children:/*#__PURE__*/_jsx(DollarSign,{size:20,color:\"#F59E0B\"})}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#64748B',fontSize:'0.875rem',marginBottom:'0.5rem'},children:\"Total Adeudado\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#1E293B',fontSize:'1.5rem',fontWeight:'700'},children:formatCurrency(totalDebt)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',background:'white',borderRadius:'8px',border:'1px solid #E2E8F0',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',background:balance>=totalDebt?'#DCFCE7':'#FEE2E2',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 0.75rem'},children:/*#__PURE__*/_jsx(Wallet,{size:20,color:balance>=totalDebt?'#10B981':'#EF4444'})}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#64748B',fontSize:'0.875rem',marginBottom:'0.5rem'},children:\"Balance Disponible\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#1E293B',fontSize:'1.5rem',fontWeight:'700'},children:formatCurrency(availableBalance)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',background:'white',borderRadius:'8px',border:'1px solid #E2E8F0',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'40px',height:'40px',borderRadius:'50%',background:'#EFF6FF',display:'flex',alignItems:'center',justifyContent:'center',margin:'0 auto 0.75rem'},children:/*#__PURE__*/_jsx(TrendingUp,{size:20,color:\"#2563EB\"})}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#64748B',fontSize:'0.875rem',marginBottom:'0.5rem'},children:\"Ratio Deuda/Ingresos\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#1E293B',fontSize:'1.5rem',fontWeight:'700'},children:(dashboardData===null||dashboardData===void 0?void 0:dashboardData.total_ingresos)>0?\"\".concat((totalDebt/dashboardData.total_ingresos*100).toFixed(1),\"%\"):'N/A'})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',marginBottom:'0.5rem',fontSize:'0.875rem'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#64748B'},children:\"Progreso de pago\"}),/*#__PURE__*/_jsx(\"span\",{style:{color:'#2563EB',fontWeight:'600'},children:balance>=totalDebt?'100%':\"\".concat((balance/totalDebt*100).toFixed(1),\"%\")})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'12px',background:'#E2E8F0',borderRadius:'999px',overflow:'hidden'},children:/*#__PURE__*/_jsx(\"div\",{style:{width:\"\".concat(Math.min(balance/totalDebt*100,100),\"%\"),height:'100%',background:balance>=totalDebt?'linear-gradient(90deg, #10B981 0%, #059669 100%)':'linear-gradient(90deg, #2563EB 0%, #1E40AF 100%)',transition:'width 0.5s ease',borderRadius:'999px'}})})]}),balance<totalDebt&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#FEF3C7',borderRadius:'8px',border:'1px solid #FDE68A',display:'flex',alignItems:'flex-start',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(AlertCircle,{size:20,color:\"#F59E0B\",style:{flexShrink:0,marginTop:'2px'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#92400E',marginBottom:'0.25rem',fontSize:'0.875rem'},children:\"Balance insuficiente\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#A16207',fontSize:'0.875rem'},children:\"Tu balance actual no cubre el total de tus deudas. Considera generar m\\xE1s ingresos o renegociar tus pr\\xE9stamos.\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(TrendingUp,{size:24,color:\"#2563EB\"}),\"Flujo de Caja\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#64748B',margin:0},children:\"Comparaci\\xF3n de ingresos vs gastos a lo largo del tiempo\"})]}),dashboardData.evolucion_mensual.length>0?/*#__PURE__*/_jsx(\"div\",{style:{height:'350px'},children:/*#__PURE__*/_jsx(Line,{data:lineData,options:lineOptions})}):/*#__PURE__*/_jsxs(\"div\",{style:{height:'350px',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',gap:'1rem',background:'#F8FAFC',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(TrendingUp,{size:48,color:\"#CBD5E1\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#1E293B',marginBottom:'0.5rem',fontSize:'1rem'},children:\"Sin historial disponible\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#64748B',margin:0,fontSize:'0.875rem'},children:\"Los datos aparecer\\xE1n conforme uses la aplicaci\\xF3n\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0'},children:\"Distribuci\\xF3n de Gastos\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#64748B',margin:0},children:\"Gastos organizados por categor\\xEDa\"})]}),dashboardData.gastos_por_categoria.length>0?/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',position:'relative'},children:/*#__PURE__*/_jsx(Pie,{data:pieData,options:pieOptions})}):/*#__PURE__*/_jsxs(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',gap:'1rem',background:'#F8FAFC',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(Wallet,{size:48,color:\"#CBD5E1\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#1E293B',marginBottom:'0.5rem',fontSize:'1rem'},children:\"Sin gastos registrados\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#64748B',margin:0,fontSize:'0.875rem'},children:\"Agrega algunos gastos para ver la distribuci\\xF3n\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0'},children:\"Evoluci\\xF3n Mensual\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#64748B',margin:0},children:\"Comparaci\\xF3n mensual de ingresos y gastos\"})]}),dashboardData.evolucion_mensual.length>0?/*#__PURE__*/_jsx(\"div\",{style:{height:'300px'},children:/*#__PURE__*/_jsx(Bar,{data:barData,options:barOptions})}):/*#__PURE__*/_jsxs(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',gap:'1rem',background:'#F8FAFC',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(TrendingUp,{size:48,color:\"#CBD5E1\"}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#1E293B',marginBottom:'0.5rem',fontSize:'1rem'},children:\"Sin historial disponible\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#64748B',margin:0,fontSize:'0.875rem'},children:\"Los datos aparecer\\xE1n conforme uses la aplicaci\\xF3n\"})]})]})]})]}),dashboardData.gastos_por_categoria.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(400px, 1fr))',gap:'1.5rem',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1.5rem'},children:/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0'},children:\"An\\xE1lisis por Categor\\xEDa\"})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'0.75rem'},children:dashboardData.gastos_por_categoria.map((categoria,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'1rem',background:'#F8FAFC',borderRadius:'8px',border:'1px solid #E2E8F0',transition:'all 0.2s ease',cursor:'pointer'},onMouseEnter:e=>{e.currentTarget.style.background='#F1F5F9';e.currentTarget.style.borderColor='#CBD5E1';},onMouseLeave:e=>{e.currentTarget.style.background='#F8FAFC';e.currentTarget.style.borderColor='#E2E8F0';},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'12px',height:'12px',backgroundColor:categoria.color,borderRadius:'50%'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#1E293B',marginBottom:'0.25rem',fontSize:'0.875rem'},children:categoria.categoria}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#64748B'},children:[(categoria.total/dashboardData.total_gastos*100).toFixed(1),\"% del total\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'right'},children:/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'700',color:'#1E293B',fontSize:'1rem'},children:formatCurrency(categoria.total)})})]},index))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1.5rem'},children:/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:'1.125rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0'},children:\"Historial Mensual\"})}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:'400px',overflowY:'auto',display:'flex',flexDirection:'column',gap:'0.75rem'},children:dashboardData.evolucion_mensual.slice().reverse().map((mes,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'#F8FAFC',borderRadius:'8px',border:'1px solid #E2E8F0',borderLeft:\"4px solid \".concat(mes.balance>=0?'#10B981':'#EF4444')},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'600',color:'#1E293B',marginBottom:'0.75rem',fontSize:'1rem'},children:[mes.mes,\" \",mes.año]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'1rem',marginBottom:'0.75rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#64748B',marginBottom:'0.25rem',textTransform:'uppercase',letterSpacing:'0.05em'},children:\"Ingresos\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#10B981',fontSize:'0.875rem'},children:formatCurrency(mes.ingresos)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#64748B',marginBottom:'0.25rem',textTransform:'uppercase',letterSpacing:'0.05em'},children:\"Gastos\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600',color:'#EF4444',fontSize:'0.875rem'},children:formatCurrency(mes.gastos)})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',fontWeight:'600',color:mes.balance>=0?'#10B981':'#EF4444',padding:'0.5rem',borderRadius:'6px',background:mes.balance>=0?'#DCFCE7':'#FEE2E2',fontSize:'0.875rem'},children:[\"Balance: \",formatCurrency(mes.balance)]})]},index))})]})]}),dashboardData.gastos_por_categoria.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',borderRadius:'12px',padding:'2rem',boxShadow:'0 1px 3px 0 rgba(0, 0, 0, 0.1)',marginBottom:'2rem'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsxs(\"h2\",{style:{fontSize:'1.25rem',fontWeight:'600',color:'#1E293B',margin:'0 0 0.5rem 0',display:'flex',alignItems:'center',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(DollarSign,{size:24,color:\"#2563EB\"}),\"Recomendaciones Inteligentes\"]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.875rem',color:'#64748B',margin:0},children:\"Oportunidades de ahorro identificadas\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(300px, 1fr))',gap:'1.5rem'},children:dashboardData.gastos_por_categoria.slice(0,2).map((categoria,index)=>{const porcentaje=(categoria.total/dashboardData.total_gastos*100).toFixed(1);const ahorroSugerido=categoria.total*0.1;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',background:'#F8FAFC',borderRadius:'8px',border:'1px solid #E2E8F0',position:'relative'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:'0.75rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'10px',height:'10px',backgroundColor:categoria.color,borderRadius:'50%'}}),/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,color:'#1E293B',fontSize:'1rem',fontWeight:'600'},children:categoria.categoria})]}),/*#__PURE__*/_jsxs(\"p\",{style:{color:'#64748B',marginBottom:'1rem',lineHeight:'1.5',fontSize:'0.875rem'},children:[\"Representa el \",/*#__PURE__*/_jsxs(\"strong\",{children:[porcentaje,\"%\"]}),\" de tus gastos totales\"]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',background:'white',borderRadius:'6px',border:'1px solid #E2E8F0'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#64748B',marginBottom:'0.5rem',display:'flex',alignItems:'center',gap:'0.25rem'},children:[/*#__PURE__*/_jsx(DollarSign,{size:14,color:\"#10B981\"}),\"Potencial de ahorro\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.25rem',fontWeight:'700',color:'#10B981'},children:formatCurrency(ahorroSugerido)}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#94A3B8',marginTop:'0.25rem'},children:\"Reduciendo un 10% tus gastos\"})]})]},index);})})]})]})]});};export default Dashboard;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}