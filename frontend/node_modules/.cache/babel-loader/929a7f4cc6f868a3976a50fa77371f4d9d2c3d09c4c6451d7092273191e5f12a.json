{"ast":null,"code":"import _objectSpread from\"D:/finance-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{useTheme}from'../contexts/ThemeContext';import NotificationBell from'./NotificationBell';import ThemeToggle from'./ThemeToggle';import toast from'react-hot-toast';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Navbar=()=>{const{user,logout}=useAuth();const{colors,isDarkMode}=useTheme();const navigate=useNavigate();const location=useLocation();const[isMobileMenuOpen,setIsMobileMenuOpen]=useState(false);const[isMobile,setIsMobile]=useState(false);// Todos los hooks deben estar antes de cualquier return condicional\nuseEffect(()=>{const checkScreenSize=()=>{setIsMobile(window.innerWidth<=768);if(window.innerWidth>768){setIsMobileMenuOpen(false);}};checkScreenSize();window.addEventListener('resize',checkScreenSize);return()=>window.removeEventListener('resize',checkScreenSize);},[]);// No mostrar navbar en páginas públicas\nconst publicPages=['/welcome','/login','/register'];const isPublicPage=publicPages.includes(location.pathname);if(isPublicPage){return null;}const handleLogout=async()=>{try{await logout();toast.success('Sesión cerrada exitosamente');navigate('/login');}catch(error){toast.error('Error al cerrar sesión');}};const navStyle={background:isDarkMode?'linear-gradient(135deg, #1E293B 0%, #334155 100%)':'linear-gradient(135deg, #1E40AF 0%, #3B82F6 100%)',padding:'1rem 0',marginBottom:'2rem',boxShadow:colors.shadowLg,borderBottom:\"1px solid \".concat(colors.border)};const navContainerStyle={display:'flex',justifyContent:'space-between',alignItems:'center',maxWidth:'1400px',margin:'0 auto',padding:'0 1.5rem'};const logoStyle={color:'white',fontSize:'1.5rem',fontWeight:'700',textDecoration:'none',display:'flex',alignItems:'center',gap:'0.5rem',transition:'transform 0.2s ease'};const navLinksStyle={display:isMobile?'none':'flex',gap:'0.5rem',alignItems:'center'};const mobileMenuStyle={display:isMobile&&isMobileMenuOpen?'flex':'none',flexDirection:'column',position:'absolute',top:'100%',left:0,right:0,background:isDarkMode?'linear-gradient(135deg, #1E293B 0%, #334155 100%)':'linear-gradient(135deg, #1E40AF 0%, #3B82F6 100%)',padding:'1rem',gap:'0.5rem',boxShadow:colors.shadowLg,borderTop:\"1px solid \".concat(colors.border),zIndex:1000};const hamburgerStyle={display:isMobile?'flex':'none',flexDirection:'column',cursor:'pointer',padding:'0.5rem',gap:'3px',background:'rgba(255, 255, 255, 0.1)',borderRadius:'0.5rem',transition:'all 0.2s ease'};const hamburgerLineStyle={width:'20px',height:'2px',background:'white',borderRadius:'1px',transition:'all 0.3s ease'};const mobileNavContainerStyle=_objectSpread(_objectSpread({},navContainerStyle),{},{position:'relative'});const linkStyle={color:'rgba(255, 255, 255, 0.9)',textDecoration:'none',padding:'0.5rem 1rem',borderRadius:'0.75rem',transition:'all 0.2s ease',fontSize:'0.875rem',fontWeight:'500',position:'relative',overflow:'hidden'};const activeLinkStyle=_objectSpread(_objectSpread({},linkStyle),{},{background:'rgba(255, 255, 255, 0.1)',color:'white',backdropFilter:'blur(10px)'});const userInfoStyle={display:'flex',alignItems:'center',gap:'0.75rem',color:'white',fontSize:'0.875rem',fontWeight:'500',background:'rgba(255, 255, 255, 0.1)',padding:'0.5rem 1rem',borderRadius:'0.75rem',backdropFilter:'blur(10px)'};const logoutButtonStyle={background:'linear-gradient(135deg, #EF4444 0%, #DC2626 100%)',color:'white',border:'none',padding:'0.5rem 1rem',borderRadius:'0.75rem',cursor:'pointer',fontSize:'0.875rem',fontWeight:'500',transition:'all 0.2s ease',boxShadow:'0 2px 4px rgba(0, 0, 0, 0.1)'};const toggleMobileMenu=()=>{setIsMobileMenuOpen(!isMobileMenuOpen);};const closeMobileMenu=()=>{setIsMobileMenuOpen(false);};const NavLinks=_ref=>{let{mobile=false}=_ref;const linkStyleToUse=mobile?_objectSpread(_objectSpread({},linkStyle),{},{display:'block',width:'100%',textAlign:'center',marginBottom:'0.5rem'}):linkStyle;const activeLinkStyleToUse=mobile?_objectSpread(_objectSpread({},activeLinkStyle),{},{display:'block',width:'100%',textAlign:'center',marginBottom:'0.5rem'}):activeLinkStyle;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:window.location.pathname==='/'?activeLinkStyleToUse:linkStyleToUse,onClick:mobile?closeMobileMenu:undefined,onMouseEnter:e=>{if(window.location.pathname!=='/'){e.target.style.background='rgba(255, 255, 255, 0.1)';}},onMouseLeave:e=>{if(window.location.pathname!=='/'){e.target.style.background='transparent';}},children:\"\\uD83D\\uDCCA Dashboard\"}),/*#__PURE__*/_jsx(Link,{to:\"/transactions\",style:window.location.pathname==='/transactions'?activeLinkStyleToUse:linkStyleToUse,onClick:mobile?closeMobileMenu:undefined,onMouseEnter:e=>{if(window.location.pathname!=='/transactions'){e.target.style.background='rgba(255, 255, 255, 0.1)';}},onMouseLeave:e=>{if(window.location.pathname!=='/transactions'){e.target.style.background='transparent';}},children:\"\\uD83D\\uDCB3 Transacciones\"}),/*#__PURE__*/_jsx(Link,{to:\"/goals\",style:window.location.pathname==='/goals'?activeLinkStyleToUse:linkStyleToUse,onClick:mobile?closeMobileMenu:undefined,onMouseEnter:e=>{if(window.location.pathname!=='/goals'){e.target.style.background='rgba(255, 255, 255, 0.1)';}},onMouseLeave:e=>{if(window.location.pathname!=='/goals'){e.target.style.background='transparent';}},children:\"\\uD83C\\uDFAF Metas\"}),/*#__PURE__*/_jsx(Link,{to:\"/budgets\",style:window.location.pathname==='/budgets'?activeLinkStyleToUse:linkStyleToUse,onClick:mobile?closeMobileMenu:undefined,onMouseEnter:e=>{if(window.location.pathname!=='/budgets'){e.target.style.background='rgba(255, 255, 255, 0.1)';}},onMouseLeave:e=>{if(window.location.pathname!=='/budgets'){e.target.style.background='transparent';}},children:\"\\uD83D\\uDCB0 Presupuestos\"}),/*#__PURE__*/_jsx(Link,{to:\"/loans\",style:window.location.pathname==='/loans'?activeLinkStyleToUse:linkStyleToUse,onClick:mobile?closeMobileMenu:undefined,onMouseEnter:e=>{if(window.location.pathname!=='/loans'){e.target.style.background='rgba(255, 255, 255, 0.1)';}},onMouseLeave:e=>{if(window.location.pathname!=='/loans'){e.target.style.background='transparent';}},children:\"\\uD83C\\uDFE6 Pr\\xE9stamos\"})]});};return/*#__PURE__*/_jsx(\"nav\",{style:navStyle,children:/*#__PURE__*/_jsxs(\"div\",{style:mobileNavContainerStyle,children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",style:logoStyle,onMouseEnter:e=>e.target.style.transform='scale(1.05)',onMouseLeave:e=>e.target.style.transform='scale(1)',children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'1.75rem'},children:\"\\uD83D\\uDCB0\"}),\"Finanzas Personales\"]}),/*#__PURE__*/_jsx(\"div\",{style:navLinksStyle,children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLinks,{}),/*#__PURE__*/_jsx(\"div\",{style:{height:'24px',width:'1px',background:'rgba(255, 255, 255, 0.2)',margin:'0 0.5rem'}}),/*#__PURE__*/_jsx(NotificationBell,{}),/*#__PURE__*/_jsx(ThemeToggle,{}),/*#__PURE__*/_jsxs(Link,{to:\"/profile\",style:window.location.pathname==='/profile'?activeLinkStyle:linkStyle,onMouseEnter:e=>{if(window.location.pathname!=='/profile'){e.target.style.background='rgba(255, 255, 255, 0.1)';}},onMouseLeave:e=>{if(window.location.pathname!=='/profile'){e.target.style.background=window.location.pathname==='/profile'?'rgba(255, 255, 255, 0.1)':'transparent';}},children:[\"\\uD83D\\uDC64 \",user.first_name||user.username]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,style:logoutButtonStyle,onMouseEnter:e=>{e.target.style.transform='translateY(-1px)';e.target.style.boxShadow='0 4px 8px rgba(0, 0, 0, 0.2)';},onMouseLeave:e=>{e.target.style.transform='translateY(0)';e.target.style.boxShadow='0 2px 4px rgba(0, 0, 0, 0.1)';},children:\"\\uD83D\\uDEAA Salir\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ThemeToggle,{}),/*#__PURE__*/_jsx(Link,{to:\"/login\",style:linkStyle,children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",style:linkStyle,children:\"Registrarse\"})]})}),user&&/*#__PURE__*/_jsxs(\"div\",{style:hamburgerStyle,onClick:toggleMobileMenu,onMouseEnter:e=>e.target.style.background='rgba(255, 255, 255, 0.2)',onMouseLeave:e=>e.target.style.background='rgba(255, 255, 255, 0.1)',children:[/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},hamburgerLineStyle),{},{transform:isMobileMenuOpen?'rotate(45deg) translate(5px, 5px)':'none'})}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},hamburgerLineStyle),{},{opacity:isMobileMenuOpen?0:1})}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},hamburgerLineStyle),{},{transform:isMobileMenuOpen?'rotate(-45deg) translate(7px, -6px)':'none'})})]}),/*#__PURE__*/_jsx(\"div\",{style:mobileMenuStyle,children:user&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLinks,{mobile:true}),/*#__PURE__*/_jsx(\"div\",{style:{height:'1px',background:'rgba(255, 255, 255, 0.2)',margin:'0.5rem 0',width:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'center',gap:'1rem',marginBottom:'1rem'},children:[/*#__PURE__*/_jsx(NotificationBell,{}),/*#__PURE__*/_jsx(ThemeToggle,{})]}),/*#__PURE__*/_jsx(Link,{to:\"/profile\",style:_objectSpread(_objectSpread({},linkStyle),{},{display:'block',width:'100%',textAlign:'center',marginBottom:'0.5rem',background:window.location.pathname==='/profile'?'rgba(255, 255, 255, 0.1)':'transparent'}),onClick:closeMobileMenu,children:\"\\uD83D\\uDC64 Mi Perfil\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{handleLogout();closeMobileMenu();},style:_objectSpread(_objectSpread({},logoutButtonStyle),{},{width:'100%',justifyContent:'center'}),children:\"\\uD83D\\uDEAA Salir\"})]})})]})});};export default Navbar;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}